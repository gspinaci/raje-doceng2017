<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script>window.$ = window.jQuery = require('./js/jquery.min.js');</script>
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/rash.css" />
    <link rel="stylesheet" href="css/font-awesome.min.css" />
    <link rel="stylesheet" href="css/rash-inline.css" />
    <script src="js/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/rash.js"></script>
    <script src="js/raje.js"></script>
    <script src="js/libs/mousetrap.min.js"></script>
    <script src="js/libs/rangy-core.js"></script>
    <script src="js/libs/rangy-textrange.js"></script>
    <script src="js/libs/rangy-selectionsaverestore.js"></script>
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <title>The RASH Javascript Editor (RAJE) -- ​One wordprocessor to rule them all, One wordprocessor to find them,
One wordprocessor to bring them all and in the darkness bind them</title>
    <meta about="mailto:​​​​​​​​​​​​​​​gianmarco.spinaci@studio.unibo.it" typeof="schema:Person" property="schema:name" name="dc.creator" content="​​​​​​​​​​​​​​​Gianmarco Spinaci" />
    <meta about="mailto:​​​​​​​​​​​​​​​gianmarco.spinaci@studio.unibo.it" property="schema:email" content="​​​​​​​​​​​​​​​gianmarco.spinaci@studio.unibo.it" />
    <link about="mailto:​​​​​​​​​​​​​​​gianmarco.spinaci@studio.unibo.it" property="schema:affiliation" href="affiliation1" />
    <meta about="mailto:​​​​​​​​​​​​​​​silvio.peroni@unibo.it&#10;" typeof="schema:Person" property="schema:name" name="dc.creator" content="​​​​​​​​​​​​​​​Silvio Peroni" />
    <meta about="mailto:​​​​​​​​​​​​​​​silvio.peroni@unibo.it&#10;" property="schema:email" content="​​​​​​​​​​​​​​​silvio.peroni@unibo.it&#10;" />
    <link about="mailto:​​​​​​​​​​​​​​​silvio.peroni@unibo.it&#10;" property="schema:affiliation" href="affiliation2" />
    <meta about="mailto:​​​​​​​​​​​​​​​angelo.diiorio@unibo.it" typeof="schema:Person" property="schema:name" name="dc.creator" content="​​​​​​​​​​​​​​​Angelo Di Iorio" />
    <meta about="mailto:​​​​​​​​​​​​​​​angelo.diiorio@unibo.it" property="schema:email" content="​​​​​​​​​​​​​​​angelo.diiorio@unibo.it" />
    <link about="mailto:​​​​​​​​​​​​​​​angelo.diiorio@unibo.it" property="schema:affiliation" href="affiliation2" />
    <meta about="mailto:​​​​​​​​​​​​​​​fabio.vitali@unibo.it" typeof="schema:Person" property="schema:name" name="dc.creator" content="​​​​​​​​​​​​​​​Fabio Vitali" />
    <meta about="mailto:​​​​​​​​​​​​​​​fabio.vitali@unibo.it" property="schema:email" content="​​​​​​​​​​​​​​​fabio.vitali@unibo.it" />
    <link about="mailto:​​​​​​​​​​​​​​​fabio.vitali@unibo.it" property="schema:affiliation" href="affiliation2" />
    <meta about="affiliation1" typeof="schema:Organization" property="schema:name" content="​​​​​​​​​​​​​​​​Computer Science and Management, University of Bologna, Bologna, Italy" />
    <meta about="affiliation2" typeof="schema:Organization" property="schema:name" content="​​​​​​​​​​​​​​​DASPLab, DISI, University of Bologna, Bologna, Italy" />
    <meta property="prism:keyword" content="​​​​​​​​​​​​​​​​RAJE" />
    <meta property="prism:keyword" content="​​​​​​​​​​​​​​​​Research Article in Simplified HTML" />
    <meta property="prism:keyword" content="​​​​​​​​​​​​​​​​RASH" />
    <meta property="prism:keyword" content="​​​​​​​​​​​​​​​​RASH framework" />
    <meta property="prism:keyword" content="​​​​​​​​​​​​​​​​Web-first format" />
    <meta property="prism:keyword" content="​​​​​​​​​​​​​​​​HTML-based scholarly articles" />
    <meta property="prism:keyword" content="​​​​​​​​​​​​​​​​research communication" />
</head>
<body>
    <section role="doc-abstract" id="abs">
      <h1>Abstract</h1>
      <p>The most used format for submitting and publishing papers in the academic domain is Portable Document Format (PDF), since its possibility of being rendered in the same way independently from the device used for visualising it. However, the PDF format has some important issues as well: it lacks of interactivity, it is not machine-readable, it has seen as a monolithic artefact in the Web, and it is not offering an acceptable accessibility to people with disabilities. In order to address these issues, recently some journals, conferences, and workshops have started to accept also HTML as Web-first submission/publication format. However, most of the people are not able to produce a well-formed HTML5 article from scratch, and they would, thus, need an appropriate interface, e.g. a wordprocessor, for creating such HTML-compliant scholarly article. </p>
      <p> So as to provide a solution to the aforementioned issue, in this paper we introduce the RASH Javascript Editor (a.k.a. RAJE), which is a multiplatform wordprocessor for writing scholarly article in HTML natively. In particular it generates documents compliant with the RASH format, that is a subset of HTML5 developed for sharing scholarly articles with appropriate Web technologies. In particular, RAJE allows authors to write research papers by means of a user-friendly interface hiding the complexities of HTML5. We also discuss the outcomes of an user study where we ask several people from the Academia to write a scientific paper using RAJE.<br /></p>
      <p><strong>RASH version: </strong><a href="https://rawgit.com/gspinaci/raje-doceng2017/master/raje-doceng2017.html">https://rawgit.com/gspinaci/raje-doceng2017/master/raje-doceng2017.html</a><br /></p>
    </section>
    <section id="section1">
      <h1>Introduction</h1>
      <p>Currently the most used format in publications is Portable Document Format (PDF), which has strengths that make it the De Facto standard in document sharing. and publishing papers. Its major strengths are: the hard formatting style and ensure that every device is able to visualise the file in the way it was created, as is. But PDF has also important problems, which are: the lack of interactivity, its unuptitude of to be shared via web, and the complicated readability by screen readers, to help users with blindness to understand the content. It is the most used format for submitting and publishing papers in the academic domain.</p>
      <p>In order to create an article, authors need to create a document that will be exported as PDF after. These documents are written with an editor or word processor. Microsoft Word and OpenOffice are the most popular word processors, they produce DOC(X) and ODT files, and authors are allowed to export the document in PDF. Another way is using LaTeX i.e. a typesetting format that can be compiled to create the corrispondant PDF file. This method is different because users have to use a markup editor instead of a word-processor like one (there are also WYSIWYG LaTeX editors).<br /></p>
      <p>Recently reasearchers started to talk about HTML publication. Publication modes have not changed everywhere: publishers, conferences and journals still accept PDF, but few entities such as PeerJ, EKAW and Springer now accept also HTML articles. The biggest part of HTML articles shared now are generated with online editors. Among them we can find Authorea, Fidus Writer, Dokieli and TinyMCE, that are the most populars.</p>
      <p>The focus fo the article is to describe the RASH Javascript Editor (RAJE), a WYSIWYG (What You See Is What You Get) wordprocessor, for writing scholarly article in HTML. In particular it generates in output a subset of HTML elements called RASH (Research Articles in Semplified HTML). RAJE allows authors to write research papers by means of a user-friendly interface, instead of writing raw markup with a IDE or text editors. In addition it guarantees users the benefits of a word processor combined with the ones given by a HTML-based format which are interactiveness, usability and easiness to be processed by calculators.</p>
      <p>RAJE will be placed inside the RASH framework. It will come in aid of those authors which do not use other editors but need a tool that help write RASH with an interface, not as raw markup, especially for long documents. The whole project is created using web technologies as HTML, CSS and JavaScript, which is the RAJE's beating heart.</p>
      <p>//TODO//</p>
      <p>This thesis is written using RAJE itself. A Task Driven Test was organized with 3 researchers of the deparment of computer science and engineering at Bologna University. This test aims to discover the RAJE usability and inprove test question to do the same a wider population next. The results show difficulties on: editing metadata, find the button to add references (such as reference to images, tables and formulas, bibliographic links and footnotes). The feedbacks given by testers show also that some interface settings are better to be moved in other places, because they are a bit hard to find. The "add a footnote" reference must be moved in a single button in the editor's toolbar. In addition testers have found very useful the mathematical formula editor, maybe with a link to its syntax. All issues are currently under fix.</p>
      <p>//TODO//</p>
      <p>The rest of the article is organised as follows. In <a href="#section2"> </a> we describe the most important HTML-based editors. In <a href="#section3"> </a> we discuss: first RASH in order to give some basic information, then RAJE in each high and low level. In <a href="#section10">Section 3.1</a> are described especially the most important features. Instead inside the <a href="#section17">Section 3.2</a> are wrapped all the low-level descriptions of RAJE. About the technologies and external libraries to develop it. The <a href="#section4">Section 4</a> is about the evaluation process: the population background, tasks implementation, development of results and conclusion.</p>
    </section>
    <section id="section2">
      <h1>Related works</h1>
      <p>RAJE is a HTML-based wordprocessor, for this reason In the following section we discuss and list all the most important contributors of this area. These descriptions are not heavily detailed, the noted aspects are a simple description and the features of each editor. Every others massively-used wordprocessors are omitted in order to focus the attention only on HTML-based ones.</p>
      <p><strong>Authorea</strong> is an online platform to write and edit scientific papers. Every article is a page, for this reason every paper is a HTML document, plus a paper is a git repository. The first main focus was to <em>fix collaborative problems that could came out during the creation of technical, scholarly and scientific writings</em>, now authors can take advantages of using git versioning system, to keep track of every single displayed change. In fact everyone, which has the right persmissions, can undo specific commit and revert to its previous version. Every article in accessible anywhere, from any device connected to the Internet, and any TeX installations are not required. About tables and formulas it's very advanced. Authorea lets anyone write mathematical notations, tables, plots and fgures in each <em>LaTeX</em> and <em>MathML</em>.</p>
      <p>​​<strong>Dokieli</strong> is a client side editor for decentralised article publishing, annotations and social interactions. Is strongly based on decentralization, authors can publish wherever they want to. Authors can edit any HTML files just importing Dokieli CSS and JavaScripts. In this case Dokieli is not a real WYSIWYG word processor, but instead is more a special module that can turn a browser-rendered paper into a in-browser editable, and annotateable, HTML document.</p>
      <p>It also allows authenticated authors to create in-text annotations and reply to them using the W3C web annotation specifications. It also implements Linked Data Notifications for notifications about entire or part of articles. Now it grants notifications for annotations, replies, shares, reviews, citations/links, bookmarks and likes. A big Dokieli's strenght is its full compatibility with HTML5. All HTML5 elements can be attached and inserted with it, and now some new UI features to do that are under development. For that reason the entire view style can be customized with just some CSS lines, or if needed style can be changed directly with Dokieli (e.g. passing fromnative visualization to Springer LNCS view).</p>
      <p><strong>Fidus Writer</strong> is an open source WYSIWYG collaborative HTML-based word processor made for academics who need to use citations and formulas within papers. All articles can be exported in more ways: website, paper or ebook. In each case the focus is the content, layouts can be choose during publication. FidusWriter supports LaTeX for adding footnotes and citations directly inside the documents. It is also collaborative in real-time, which means that FidusWriter aims to fix sharing problems for many-authors papers, and everyone can automatically see and write the document in the same time.Its formula system works hand by hand with MathJax, MathType and LaTeX.</p>
      <p><strong>TinyMCE</strong> is more an Open Source library than a stand-alone editor. It can integrate a WYSIWYG HTML-based editor inside a website. Is a large project that involve 130 contributors with almost 5000 commits on Github. Among its features there are formatting, table insertion, image editing, customizable themes and it is accesible for users with disabilities because it follows WAI-ARIA specification making it compatible with screen readers such as JAWS and NVDA. TinyMCE can be integrated everywhere. Can be found from CDN and package managers (NPM, Bower,NuGet), and integrated with frameworks such as JQuery and Angular.js, or inside common CMS like Wordpress or Joomla. Its community and contributors ar lively on networks, issues and enhancements are fastly fixed.</p>
    </section>
    <section id="section3">
      <h1>RAJE</h1>
      <p>The HTML-oriented wordprocessor we propose is used to generate research articles in RASH format (i.e. Research Articles in Simplified HTML). RASH is a Web-first format for writing HTML-based scholarly papers. One of the first differences beetwen RASH and the other similar proposals, is that it has reduced HTML elements to a minimum of only 32 (in order to reduce cognitive cost to authors and avoid the <em>ambiguities</em> normally permitted by HTML itself). Also, RASH has been designed to be easy to learn and use, and it works well with sharing scholarly documents (and embedding semantic annotations) through the web. For the same reason more articles can be semantically linked each other, with interactive behaviours granted by JavaScript and web browsers.</p>
      <p>RASH comes with its own framework, i.e. the RASH framework. It is a set of specifications and <em>writing/conversion/extraction</em> tools for writing articles with this format. RASH documents can be easily validated using the HTML5 validator (<a href="https://validator.w3.org/nu/">W3C Nu HTML Checker</a>), to be advised about potential semantic issues. Visualisation is also a framework's duty. Browsers can natively display any RASH documents (in the same way they render common HTML documents) thanks to the wrapped CSS stylesheets and JavaScript libraries. The integrated CSS styles can be used from authors if he/she wants to pass from native HTML viualisation to a LaTeX-style layout (ACM, Springer LNCS and so on). </p>
      <section id="section10">
        <h1>General overview</h1>
        <p>RAJE is a stand-alone multi-platform software used to generate RASH document. Normally a new document is saved locally, but every new changes can be also stored online, where any other authors can contribute with.</p>
        <p>In the following section we discuss about the tool's stregths and the reasons why we created RAJE. It is created because of the need of a wordprocessor-like interface to edit a RASH document, furthermore it has a centralised place accessible to everyone where to store documents, i.e. Github. During the development period we defined other needs, related to the document accessibility, a math formulas editor with asciiMath as input, which generates rendered formulas thanks to the MathJax process. Further we discuss the integration beetwen RAJE and Github and how we managed its functionalities.</p>
        <section id="section14">
          <h1>Header</h1>
          <p>The metadata of a RASH document are stored inside the <code>​head</code>​ element in the form of <code>meta</code>​ or <code>​link</code>​. With browsers are rendered as shown in figure <a href="#figure_1">Figure 1</a>. The header of a RASH file is made up with more elements, needed to contextualize the entire article <a href="#bib1"> </a>. Title and authors list are obviously very important for what concern documents of scientific mold, and in this case also keywords and ACM subject categories. Thanks to RASH we can have articles written by many authors. For this reason RAJE permits to insert, change, and delete authors. Among the other things is reasonable wanting to change the author's order, triggering the corrispondent action from software menu and repositioning them with Drag &amp; Drop tecnology.</p>
          <figure id="figure_1">
            <p><img src="img/header.png" alt="img/header.png" /></p>
            <figcaption>Header of a rendered RASH document.</figcaption>
          </figure>
          <p>Because of the complex and importance of the metadata structure, we chose to restrict the editing permissions. Every element can be easily single-edited by clicking it. We choose to use the "single-click action" because it is the expression of the willingness to interact with a graphic element. </p>
          <p>Any <em>author</em> has its own button set for adding a new author before or removing the selected one. According to the RASH documentation, authors can have more <em>affiliations</em>. Any new affiliation can be added pressing <code>​enter</code>​ key. This action will add a placeholder that can be remove pressing <code>enter</code> again as shown in <a href="#figure_2">Figure 2</a>.</p>
          <figure id="figure_2">
            <p><img src="img/author.png" alt="img/author.png" /></p>
            <figcaption>​Adding new affiliation.</figcaption>
          </figure>
          <p><em>Categories</em> and <em>keywords</em> can be also edited after click event, the only one difference is behaviour. It is same as the <code>inline code</code> elements: space button inserts a space inside the element, instead the enter key inserts a space after the element indicating its end. </p>
          <p>The <em>title</em> is usually accompanied with a <em>subtitle</em>. If during title editing an author wants to insert the subtitle can simply press <code>​enter</code>​ at the end. The subtitle is now added, and can be filled up with text, or the author can proceed to the next editable element pressing <code>enter</code> again.​​ We think that is more easy and banal pressing this button to exit from the current element and go to the next one. At leas the editing way of the header is different from body, it has a lesser degree of restriction.</p>
        </section>
        <section id="section15">
          <h1>MathJax and MathML</h1>
          <p>With the version 0.6 of RASH, formulas can be also written in asciiMath and rendered with the MathJax processor (formulas are still saved in mathML). This update lead us to create a easy-to-use environment in which users write down formulas using only asciiMath as input. AsciiMath basically is easier to learn, write and remember than LaTeX and mathML are.   </p>
          <p>MathJax comes in authors aid when RAJE wants to process the asciiMath input. In real time the processor convert the input in mathML. This help very much, in particular for those not familiar with the syntax necessary to add symbols or functions. Although simpler than latex, asciiMath can still be difficult, and authors can always use the buttons immediatly under the input textbox in order to add preset of instructions (such as function, limit, square root and so on). All the arrangement of the elements was designed crossing the asciiMath syntax and the OpenOffice editor layout.</p>
          <figure id="figure_3">
            <p><img src="https://rawgit.com/gspinaci/spinaci-rajedoc2016/master/img/formulaeditor.png" alt="https://rawgit.com/gspinaci/spinaci-rajedoc2016/master/img/formulaeditor.png" /></p>
            <figcaption>​The formulas editor in RAJE.</figcaption>
          </figure>
        </section>
        <section id="section16">
          <h1>Marriage with github</h1>
          <p>As already mentioned before, RAJE is strictly wired to a kind of "cloud-like" system in such a way to easy up the communication and sharing of articles beetwen its stakeholders. Because HTML is not only raw, text it works perfectly in tune with Git (precisely in this case Github interface). The main idea is that<br /><strong>"a single article is a repository"</strong> with all the privileges it bring with him. </p>
          <p>At the first time that an author push the article, Github create a new repository filled with code and assets. It can be found at <code>https://github.com/{author_username}/{repository_name}​</code>​. ​Pushing the article you can create a new folder to the choosen path, that will be immediatly filled with code and assets of the article corrispondent to the typed URL. To all effect is the samethings to open a document previously created, with the only difference that this time we are talking about the  repository. </p>
          <p>During the editing phase if a user wants to store online the content of a document, he must be first logged in with its own Github account, which certifies its identity. Omitting the authentication mode, o better the development of the predisposed module for handling authentication, the user has the option to save the document online, on Github servers. This action can be executed in two ways: the shortcut <code>ctrl+shift+s</code> (<code>cmd+shift+s</code> if OSX) or the button "push" under the dropdown with author's Github profile avatar. Will be viewed a simple modal that permits the user to label up the entire sets of changes under an unique comment, a commit. When the upload is done will be shown a success message, in a non invasively way, on the screen, indicating the success. </p>
          <p>The mangement of sharing documents needs that all repository contributors are always updated to the latest article version, to avoid merge conflicts. In the RAJE current version this functionality has not been introduced yet, but is a crucial fact of distributed system management, will be implemented soon.</p>
        </section>
      </section>
      <section id="section17">
        <h1>Technical overview</h1>
        <p>In this setion we discuss the used technologies and the adopted development process, in order to build up the tool. RAJE is based on <a href="https://electron.atom.io/">Electron</a> (a.k.a. Atom Shell) which allows developers to generate multi-platform softwares using only web-based technologies: HTML, CSS and JavaScript. Next other integrated modules and script are described, such as <a href="https://github.com/timdown/rangy">Tim Down's rangy</a>.</p>
        <section id="section18">
          <h1>Electron and APIs</h1>
          <p>Electron is a Open Source framework created by Github developers, based on the already famous node.js API. It is avery lively project, it count near 13.000 commits divided beetwen the 500 total contributors.Electron is pratically a browser wrapper. It utilize Chromium as browser to create multi platform softwares. </p>
          <p>Thanks to this framework is guaranteed the development with web-technologies like HTML, CSS and JavaScript.Two are the important processes in any Electron-based software: The Main process and the Renderer process.The <strong>Main process</strong> is a node.js script, that includes every kind of necessary information and setting to guarantee the smooth progress of the software, e.g. it creates and shows the <em>windows</em>, uses <em>node.js modules</em> and can acces to <em>databases</em>.Instead the <strong>Renderer process</strong> is a script imported directly in the document with the classical syntax <script src="rendered.js"></script>​. It allows RAJE to utilize NPM packages (the manager of node.js modules) and can communicate in an Async or Sync way with the main process to exchange messages.</p>
          <section id="section21">
            <h1>File System APIs</h1>
            <p>RAJE is a software Because of the <strong>FS api</strong>. If it was only a JavaScript file, like <em>rash.js</em>, cannot be possible locally save articles. Only few browsers allows scripts to access the FS and write files and directory <a href="#bib2">[2]</a>.</p>
          </section>
          <p>The File System APIs are required, expecially for a software that can execute CRUD operations on files, indeed. The <strong>fs library</strong> is one of the most important library, because it is placed among default node.js modules, it contains some very useful methods such as <em>readDir</em> (get a the list of files contained in a directory), <em>writeFile</em> (write a file with the given content)​ and <em>readFile</em> (get the content of the selected file) which are asynchronous. RAJE sometimes uses also them sync counterpart (e.g. <em>readFileSync</em>).</p>
          <p>When an author wants to generate a new article, RAJE creates its directory and move inside the whole required assets bundle (which are CSS stylesheets and JavaScript scripts) using few FS functions. </p>
          <section id="section22">
            <h1>Github api</h1>
          </section>
          <p>The APIs to communicate with Github are implemented using a wrapper: <a href="https://github.com/pksunkara/octonode">Octonode</a>, which grants a lot of actions on contents, users and repositories. Octonode is built on the Github API v3, and it provides also OAuth2 login. With few code lines is possible to integrate an Electron project with the module which provides connection with the protocol OAuth2. To set up a project and arrange to have login, first of all is necessary that the developer application is already created and be in possession of the two necessary codes: client ID and secret ID.As soon the application is created, it is now possible to use some code lines to authenticate users with the protocol OAuth2. </p>
          <p>The Octonode library also serves a different method to authenticate with Github. In RAJE the authentication is implemented as follows. All needed functions are stored inside a variable, created when an author pushes the right button to be logged in, at this moment also the <code>client_token</code> is generated.​ In order to obtain the <code>client_token</code>​ the author need to authorize RAJE to access its personal information as shown in <a href="#figure_4">Figure 4</a>. This window will describe what kind of permissions RAJE needs, it can read all public information about the user (such as email, name, biography and so on) and about public repositories (the ones which are importantfor RAJE).</p>
          <figure id="figure_4">
            <p><img src="img/authorize.png" alt="img/authorize.png" /></p>
            <figcaption>Authorize application modal.</figcaption>
          </figure>
          <p>Once authorizations are given by the use, a message is sent to Github servers, and a result comes back in return. Normally Github needs an URL callback, so the token can be directly sent there, where it will be elaborated. RAJE, instead, as a browser can handle the navigation events. It can listen for the callback and extract the result code from URL. Then RAJE execute a POST request, to get the <code>access_token</code>, with the function in <a href="#table_1">Listing 1</a>. </p>
          <figure id="table_1">
            <pre>​function requestGithubToken(githubOptions, code) {apiRequests.post('https://github.com/login/oauth/access_token', {client_id: githubOptions.client_id,client_secret: githubOptions.client_secret,code: code,}).end(function (err, response) {if (response &amp;&amp; response.ok) {/** Save github token to settings */storage.setGithubSettings({ 'token': response.body.access_token }, (err) =&gt; {if (err) throw errgetUserInfo()})} else {// Error - Show messages.console.log(err)}})
}<code><br /></code></pre>
            <figcaption>Function to request the <code>access_token</code>.</figcaption>
          </figure>
          <p>The method in <a href="#table_1">Listing 1</a> uses a node.js module called <em>superagent</em>, an high level wrapper for ajax requests. With it module RAJE can make a POST request, passing all needed informations in order to retrieve the token. In this snippet the token is saved with the <code>electron_storage</code>​ module, i.e. a simple environment JSON storage for the current machine. </p>
          <p>The login workflow is the following: </p>
          <ol>
            <li>
              <p>The author express the will to be logged in, pressing the login button (placed in the right-top corner).</p>
            </li>
            <li>
              <p>RAJE shows the authorization modal. </p>
            </li>
            <li>
              <p>The author eccept authorization requirements.</p>
            </li>
            <li>
              <p>Github send the URL callback containing the code.</p>
            </li>
            <li>
              <p>RAJE extract the code and request the token.</p>
            </li>
            <li>
              <p>Github send the token in return.</p>
            </li>
            <li>
              <p>RAJE stores the token for next requests.</p>
            </li>
          </ol>
When the token is stored, every future requests (such as create a repository or push a commit) are instantly served because everything is saved inside the variable client​.           <p>When a new article is opened, a local folder is created with the document and all the needed assets, and when authors want to PUSH changes to a non existent repository, it is created. Every time a PUSH is requested the SHA and the content of file to update are required but if no repositories are founded, also in this case RAJE needs to create it. </p>
          <p>Inside the <code>client</code> variable we can find the method <code>.me()​</code> which returns an instance of the logged user. Object <code>me</code> has inside all allowed operations to users, and among them, the creation of a new repository. With the method <code>client.me().repo({},callback)​</code> in our aid, a new repository is created, the first parameter is an object that contains properties like name, description and other less importantinformation.</p>
          <p>Once the repository is created we need to push also the assets, which are Javascript scripts, CSS style files and fonts​ (required by FontAwesome). The current versione of RAJE needs to synchronize these files one after another (synchronous paradigm). Those two are the most important examples of integration with the big API of Github, but they give us the proof of what it can be possible to do.</p>
        </section>
        <section id="section19">
          <h1>Web based technology</h1>
          <p>As already mentioned in the previous sections, RAJE in built on Electron, which uses web technologies as Javascript and CSS to give at client-side behaviours and styles. The <strong>splash window</strong><a href="#fn2"> </a> is simply a html file with its own Javascript and CSS, rendered by the Main process. Instead the editor itself is the HTML file stored inside the article folder. When it is visualised by a browser (Chromium in our case) it has <em>rash.js</em> script that turn the document into RASH-rendered form. In the same way adding <em>raje.js</em> a RASH document can be turned into a editable document with toolbar and other useful elements. </p>
          <p>For this reason, the core of this editor is not the software itself, but insted is the imported script. Software gives some important wiring behaviors (FS and Github APIs). The <em>editor behaviour</em> is inside the document (stored as a script), but if someone try to open the file with a normal browser, he can view only a normal RASH file, because the editor will be shown and added only if the document is opened with RAJE. In other words, this is very useful to send read-only documents or show it with rawgit.</p>
          <section id="section23">
            <h1>Editor's core: raje.js</h1>
          </section>
          <p>All the RAJE project flow around the raje.js script. It is built concatenating more scripts (each with its own behaviour and purpose). They are:</p>
          <ol>
            <li>
              <p>init.js</p>
            </li>
            <li>
              <p>caret.js</p>
            </li>
            <li>
              <p>const.js</p>
            </li>
            <li>
              <p>raje.js</p>
            </li>
            <li>
              <p>shortcuts.js</p>
            </li>
            <li>
              <p>toolbar.js</p>
            </li>
            <li>
              <p>derash.js</p>
            </li>
            <li>
              <p>rendered.js<br /></p>
            </li>
          </ol>
          <p><strong>Init.js</strong> is the initialization script, it initializes the variables (like bodyContent<a href="#fn3"> </a> or edit_state), extends JQuery object adding more new functions, handle the creation of figures and call the <em>$(document).ready()</em> function to set up the whole editor. Two important functions added to the JQuery object are: <strong>setEditable()</strong> and <strong>setNotEditable()</strong>, both act on the document editability. </p>
          <p>Very important is what happen to the sections: them are detached from the body and after attached to a new container, i.e. the section with contenteditable attribute sets to true (it is added right below the header).</p>
          <p>The second script, that is <strong>caret.js</strong>. It provides some utility methods about the caret and its position. It contains functions to check if the caret is inside some elements e.g. if is inside the editor, header or an heading (<code>h1</code>,<code>h2</code> and so on), or to create a selection that wraps entirely the node where the caret is. All the methods here are based on rangy. </p>
          <p>Some constants to store numbers and string called multiple times are wrapped inside the <strong>const.js</strong> script, in order to aware of <em>magic numbers anti-pattern</em>.</p>
          <p>Then there is <strong>raje.js</strong>, a set of actions to add elements directly onto the body. More of them uses the <em>contenteditable APIs</em> (e.g. to add undo/redo) or the method <code>document.execCommand('insertHTML')​</code> that add a HTML string to the caret. All figure elements and cross-references are intended as objects, a new element is a new object​. There are also methods to add sections of any kind, from normal ones to specials.</p>
          <p>All shortcuts are stored in <strong>shortcuts.js</strong> script. All of them are binded inside an init function called when the document is ready. The shortcuts are all implemented using the <em>Mousetrap module</em>, and needed to trigger a different behaviour from the normal one. Over that the enter key press event, may triggers different behaviour based on where the caret is.</p>
          <p>The entire graphic elements set is inside<strong> toolbar.js</strong>. Here there are variables which contain HTML strings that need to be added after. Among them there is the toolbar and all other modals, each with its own method to show it.</p>
          <p>A rendered document is different from the stored one, and rash.js deals with the only transformation from the stored to the rendered article. RAJE need a kind of mechanism to do the specular thing, in otherwords the script <strong>derash.js</strong>. This comes in aid when we save the article, it creates and beautify the HTML string that is the file. When it creates the string, is completely minified for this reason inside this script there is a function which its objective is to mantain the multi line property and tabulation.</p>
          <p>At least <strong>rendered.js</strong> contains everything to handle communication from and to the Main process, such as: Github login, save document locally, push updates etc.</p>
        </section>
        <section id="section20">
          <h1>Modules</h1>
          <p><a href="https://github.com/timdown/">@TimDown</a>'s <a href="https://github.com/timdown/rangy/">rangy</a> is very popular, and it has also a active community leaded by his founder Tim Down. On StackOverflow most of questions about contenteditable and selection management has a rangy-based answer. Every browser implements a naïve selection interface, and for a wider spectrum of methods, we adopted rangy because it grants a lot of useful operations. In a particular way, it works great to know where the caret is, or its position inside the parent. It can also allow to move the caret to start or the end of an element (this behaviour is saved inside <strong>caret.js</strong>). </p>
          <p>Otherwise the submodule rangy-selectionsaverestore can save the current caret position to restore after. E.g. when the user wants to add an image inside the article, after clicking the button, a modal is shown. Here is where the editor needs to save the current selection, because next he probably change the focus to a button, a textbox or directly with a single click in anywhere else position and loose the previous reference where to insert the element. When he chose file and it is saved, RAJE restore the selection to move the caret where it was before, then it add the new element. </p>
          <p>The other subpackage is rangy-textrange, and can allows to move the caret ahead or behind of some position (tipically characters). This behaviour is used to exit from inline elements. Inside code elements the spaces are allowed, instead if the author press enter he will exit from it (and the caret will be moved one character ahead).</p>
          <p>All the shortcuts are attached directly to the <code>section#rashEditor​</code>, because it have the mousetrap class, which is the one recognised by <a href="https://craig.is/killing/mice">Mousetrap</a>. This script is really easy yo use, is only about to connect somehow a character or a sequence of them. Everythig is referred to a Mousetrap class, and only the function bind is called. The signature means that it accepts a string (that is the sequence to trigger the event) and a callback called when the event is triggered. Mousetrap is used to bind <code>ctrl+b</code> or <code>cmd+b</code> (the plus indicates that the two buttons need to be pressed at the same time) to handle the bold behaviour.</p>
        </section>
      </section>
    </section>
    <section id="section4">
      <h1>Evaluation</h1>
      <p>Now, after the description of what RAJE is and how it is implemented, the last step is about <strong>testing the software to highlight critical issues and its level of usability</strong>. The test survey is made with <a href="http://eSurv.org">eSurv.org</a>, findable <a href="https://eSurv.org?u=rajetest">here</a>. This test is a <strong>DUT</strong>, i.e. Discount Usability Test. These kind of tests are made involving only few people: it is possible to find up to 80% of the main bugs involving only 3 or 5 people <a href="#bib3"> </a><a href="#bib4"> </a>. In this section, we present the evaluation of RAJE based on the analysis of the survey's results.</p>
      <section id="section7">
        <h1>Settings</h1>
        <p>There were two prerequisites that need to be satisfied: the RAJE executable must be downloaded and unzipped by testers, and they need a Github account. The testers were required to fill a form organized with the preliminary answers about name, affiliation and reseach area and some assertion categorised as expertise with: <br /></p>
        <ol>
          <li>
            <p>Formats (e.g. DOC(X), ODT...)<br /></p>
          </li>
          <li>
            <p>Word processors and HTML-based editors <br /></p>
          </li>
          <li>
            <p>Research articles writing <br /></p>
          </li>
          <li>
            <p>Control version systems</p>
          </li>
        </ol>
        <p> In total were 17 assertion, with the following format: "I am expert in HTML documents", needs to be answered with: Strongly Agree, Agree, Neutral, Disagree and Strongly Disagree. With this answers is possible to create profiles of the testers' background, which are used before to generate the results with the SUS answers. In order to capture the usability the first task was to write this PDF article using RAJE. To obtain this document we followed the normal RASH workflow. We created the test document using RAJE, and with ROCS we converted the output document in TeX with the Springer LNCS style. The TeX document was then compiled in PDF. Inside the document there is the whole set of elements and actions that a user can execute. In the abstract section there are some few text elements and a list. In the next sections there are tables, figures, listings and formulas, it also contains footnotes and bibliographic references.</p>
        <p>The second task aimed to evaluate the integration beetwen RAJE and Github, commiting and pushig the repository. To complete this task testers are needed to be logged in with their Github account. Then they have to push the created document, with a initial comment. When the article is saved online as a repository, testers have to navigate to the RawGit link and save it inside the document. After that the output folder must be compressed into a archive and send to my email, in order to evaluate the HTML given in output.</p>
        <p>The last pages contains two final questionnaires about tester's experience and feedback, with the aim of collecting enough informations to pursuit their elaboration.</p>
      </section>
      <section id="section8">
        <h1>Results</h1>
        <p>~400 words</p>
      </section>
      <section id="section5">
        <h1>Discussion</h1>
        <p>~600 words</p>
      </section>
    </section>
    <section id="section9">
      <h1>Conclusion</h1>
      <p>In this paper we talked about how the Semantic Web community and few publishers, are starting to talk about HTML submissions. It is thought as solution for the problems of the PDF format described above. The advantages that HTML bring with him are the easiness to be understood by machines and the interactiveness granted by browsers. PDF files and HTML documents are easily created with visual editors and word processors. Most of them are WYSIWYG, that allow authors to editate directly the output.</p>
      <p>HTML wraps a huge amount of elements which can have ambiguity. Two elements can be different, but visualised as same. RASH fix this problem. It is a subset of 32 HTML elements, which grants that every element is univocal. Another streght of RASH is its framework. Validation, visualization and conversion are all actions that RASH framework can do. But it needs a tool to semplify the creation of a RASH file, hiding all the technical facts about the markup structure. RAJE will be placed inside the RASH framework, in order to cover this need. RAJE is a HTML-based WYSIWYG editor, with generates RASH well-formed documents.  We described the most popular and used HTML-based editors and word processors, the functionalities and development process in order to create RAJE, with JavaScript libraries, CSS styles and HTML files, and deploy the software packages.</p>
      <section id="section24">
        <h1>Future development</h1>
        <p> In addition of fixing bugs/issues , some new features are needed to be added. The most interesting feature are the annotations, that will be integrated using <a href="https://hypothes.is/">hypothes.is</a>. We also noticed the necessity of a table of content, to navigate in a better way long documents, to expand RAJE to allow chairs to create conferences and manage peer reviewing directly with RAJE, or its hypotetical web site. These are just few way in how we can next expand RAJE.<br /></p>
      </section>
    </section>
    <section role="doc-bibliography" id="bibreflist">
      <h1>References</h1>
      <ol>
        <li id="bib1" role="doc-biblioentry">
          <p><a href="https://essepuntato.github.io/papers/rash-peerj2016.html">https://essepuntato.github.io/papers/rash-peerj2016.html</a><br /></p>
        </li>
        <li id="bib2" role="doc-biblioentry">
          <p><a href="http://caniuse.com/#feat=filesystem">http://caniuse.com/#feat=filesystem</a><br /></p>
        </li>
        <li id="bib3" role="doc-biblioentry">
          <p>Nielsen J. Discount Usability: 20 Years (2009) <a href="https://www.nngroup.com/articles/discount-usability-20-years/">https://www.nngroup.com/articles/discount-usability-20-years/</a><br /></p>
        </li>
        <li id="bib4" role="doc-biblioentry">
          <p>Nielsen J. Why You Only Need to Test with 5 Users (2000) <a href="https://www.nngroup.com/articles/why-you-only-need-to-test-with-5-users/">https://www.nngroup.com/articles/why-you-only-need-to-test-with-5-users/</a></p>
        </li>
      </ol>
    </section>
    <section role="doc-endnotes" id="fnlist">
      <section id="fn1" role="doc-endnote">
        <p>Also a little structural change in the structure can broke entirely the header and foreclose a correct RASH validation.</p>
      </section>
      <section id="fn2" role="doc-endnote">
        <p>I.e. the first shown window, where authors can choose beetwen creating a new article or open an existing one.</p>
      </section>
      <section id="fn3" role="doc-endnote">
        <p>This variable is used to save the html of the body. Every time some input events are triggered the variable is required to check if there are any content changes.​</p>
      </section>
    </section>

</body>
</html>